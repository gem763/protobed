{"pub": "zdnet", "url": "https://www.zdnet.com/article/screaming-car-wreck-of-internet-routing-needs-a-fire-brigade-geoff-huston", "downloaded_at": "2019-09-13 07:05:58.735217+00:00", "title": "'Screaming car wreck' of internet routing needs a fire brigade: Geoff Huston", "language": "en", "text": "Border Gateway Protocol (BGP) is the system used to route traffic around the internet, and it's terrible -- despite decades of global efforts to improve its security.\n\nAccording to Geoff Huston, chief scientist with the Asia Pacific Network Information Centre (APNIC), BGP is a \"screaming car wreck\" with \"phenomenal insecurity\".\n\n\"I actually don't think it's a fixable car wreck,\" Huston told the organisation's twice-yearly conference in Chiang Mai, Thailand on Tuesday.\n\n\"BGP is a protocol that dates back to the Bellman-Ford algorithm of 1963. It's older than the moonshot. It's getting on to 60 years,\" he said.\n\nBGP has certainly been at the core of some serious incidents over the decades.\n\nBack in 2008, Pakistan was attempting to censor videos on the internet when it accidentally knocked YouTube offline globally. Something similar happened in 2014 when Indian telco Bharti Airtel took down Google services.\n\nOther incidents seem less accidental. In June this year, for example, a large chunk of European mobile traffic was rerouted through China for two hours.\n\nOne key problem is that BGP relies on everyone telling the truth.\n\nInternet routers use BGP to \"advertise\" which parts of the internet they can send traffic to, and how efficiently they can do it. Other routers do the same. They're all meant to pass this chatter onto their neighbours without altering it.\n\nWhen the information becomes outdated -- for example when an internet link fails -- routers are meant to advertise a so-called \"withdrawal\". They're meant to pass on that information truthfully too.\n\n\"What you find in a large complex BGP mesh is the withdraws and the updates tend to struggle against each other. And a single update event at source might become 20 updates and then a withdrawal,\" Huston said.\n\nRouters out in the broader internet, unlike those that connect end users' edge networks to their ISP, usually don't have a default route programmed in. They exist in what's called the Default-Free Zone, where they're totally reliant on BGP to tell them where to send traffic.\n\n\"Any massively distributed system that relies on the propagation of rumours, where every part of that propagation can be altered on a hop-by-hop basis, if you believe that you can secure that and every aspect of its operation, both withdrawals and updates, then I would love to hear what your answer is,\" Huston said.\n\nRouting engineers do a \"wacko job\"\n\nAnother problem is that network engineers set up BGP in ways that Huston says are a \"wacko job\".\n\n\"Things that I would regard as being grievous anomalies and absolute contraventions of the protocol, you guys think are normal,\" he said.\n\nThe aim of these weirdnesses are usually to improve network efficiency, or to distribute traffic across an organisation's infrastructure. Sometimes it's a commercial decision to send traffic through less expensive links.\n\nBut it's difficult to distinguish between these deliberate weirdnesses from genuine mistakes or malicious activity.\n\n\"These are deliberate things and they're not actually bad. They're quite normal because that's the way you do this. So what's abnormal? What's the lie amongst all that weird behaviour that you seem to think is fun?,\" Huston asked.\n\n\"BGP is incredibly noisy and incredibly unstable. Now spot the anomaly. And don't forget too that the best attack lasts for 15 seconds. The best attack is so fast you don't even notice it,\" he said.\n\nJob Snijders, IP development engineer with NTT Communications, says that some of the techniques used by so-called BGP optimisers can create problems for other network operators if an organisation's internal routing weirdnesses leak onto the global internet.\n\n\"The reality of having installed such appliances is that you may be a ticking time bomb without realising it,\" Snijders told the conference, even though there are legitimate reasons to use them.\n\n\"These BGP optimisers are how you can take entire countries offline.\"\n\nSnijders says the Default-Free Zone should be treated like a natural resource such as a river, and routing weirdnesses should be handled like toxic chemicals.\n\n\"Problems that happen upstream have negative consequences downstream,\" he said.\n\n\"[The Default-Free Zone] it something all of us share. It facilitates all of our businesses. We make money using this shared resource, but we also together have to take care of the resource.\"\n\nCall in the BGP fire brigade\n\nHuston says that given BGP's inherent problems, we need to approach all this in another way: contain the issue by detecting anomalies quickly.\n\n\"It's a bit like the fire brigade. If you keep on making houses that burn, we'll set up a fire brigade to put them out when they're burning,\" he said.\n\n\"We can't stop you trying to burn down your house, but we can stop the mess afterwards being as bad.\"\n\nThat's not going to be easy, however.\n\nMachine learning is not the answer\n\n\"You're trying to detect fast-running, rapidly-moving anomalies inside an environment that generates by default fast-running rapidly-moving anomalies,\" Huston said.\n\n\"So it's a challenge,\" he said, though he did present a number of mathematical techniques for reducing the computation required by what are essentially brute-force processes.\n\nHuston is also highly sceptical of using machine learning techniques.\n\n\"There's a huge amount of computing sins and transgressions encompassed by those innocent two words 'machine learning',\" he said.\n\n\"In general, if you're a research funding agency you're used to hearing this -- that and the word blockchain. And if you apply for research grants, you're used to using these words -- and blockchain -- because that's what gets you money. But on the whole I'm not a big fan of this.\"\n\nHuston says that when you look into most machine learning systems, you find \"some kind of n-dimensional parametric analysis\", where the legitimate and erroneous objects tend to form clusters.\n\n\"Hell, you don't need to understand it. Just feed it into a cluster tool. There are lots of them around. And the theory goes that if you get your parameter right, all the outliers naturally group themselves going 'Hey I'm a lie',\" he said.\n\n\"Now I believe in unicorns as well. And I believe in all kinds of things, including Father Christmas and the Easter Bunny.\"\n\nHuston also pointed out the limits of using an Internet Routing Registry (IRR), a database of internet route objects.\n\nOne problem is that IRRs accumulate out-of-date or badly formed information.\n\nIRRs by design are logbooks and whatever goes in them usually stays there, said Anurag Bhatia from Hurricane Networks.\n\nHis research showed that filtering new BGP route information against the data registered in the IRRs does \"not [work] so well\".\n\nAt the time he conducted the research, 758,313 route prefixes were visible in the global routing table, counting both IPv4 and IPv6 networks.\n\nOut of those, 603,185 (79.54%) had valid route objects in the IRRs. Some 58,587 (7.73%) had no valid route object, and the remaining 96,514 (12.72%) had mismatched route objects.\n\nThis means that if a router had filtered all the BGP information it received against the IRR databases, more than 20% of the routes in the global routing table would be filtered out, making those networks unreachable.\n\nBoth Bhatia and Snijders encouraged network operators to help clean up the IRRs and to start using digital signatures to ensure their routing information is authenticated.\n\nNetwork operators should help others protect you by creating Resource Public Key Infrastructure (RPKI) Route Origin Authorisations (ROAs) for your own network space, Snijders said. This authenticates the information being added to the IRRs.\n\nProtect yourself and others by deploying RPKI-based BGP Origin Validation, he said.\n\nDisclosure: Stilgherrian travelled to Chiang Mai, Thailand, as a guest of APNIC.\n\nRelated Coverage\n\nAmazon, Facebook internet outage: Verizon blamed for 'cascading catastrophic failure'\n\nCloudflare loses 15 percent of traffic due to an error at Verizon.\n\nBGP attacks hijack Telegram traffic in Iran\n\nWith so many users in Iran, it's unsurprising that potentially state-sponsored groups would want an access point into the banned app.\n\nFor two hours, a large chunk of European mobile traffic was rerouted through China\n\nIt was China Telecom, again. The same ISP accused last year of \"hijacking the vital internet backbone of western countries.\"\n\nSome internet outages predicted for the coming month as '768k Day' approaches\n\n768k Day expected within the month, reminiscent of 512k Day when AT&T, BT, Comcast, Sprint, and Verizon all went down.\n\nInternet experiment goes wrong, takes down a bunch of Linux routers\n\nRouters running FRR impacted in first experiment test run. Some ISPs in Asia and Australia affected the second time.", "description": "After 30 years, this 'massively distributed system that relies on the propagation of rumours' seems unfixable, says APNIC's chief scientist, but digital signatures are starting to help.", "authors": [], "top_image": "https://zdnet2.cbsistatic.com/hub/i/r/2014/09/18/61793069-3f0a-11e4-b6a0-d4ae52e95e57/thumbnail/770x578/ff5f4a5df5d254c093edde1b6ed4551f/bgp-spoofing-why-nothing-on-the-internet-is-actually-secure.jpg", "published_at": "2019-09-13"}