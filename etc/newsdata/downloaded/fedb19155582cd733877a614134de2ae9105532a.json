{"pub": "zdnet", "url": "https://www.zdnet.com/article/mozilla-to-gradually-enable-dns-over-https-for-firefox-us-users-later-this-month", "downloaded_at": "2019-09-07 13:36:17.658035+00:00", "title": "Mozilla to gradually enable DNS-over-HTTPS for Firefox US users later this month", "language": "en", "text": "Image: Mozilla\n\nMozilla plans to enable support for the DNS-over-HTTPS (DoH) protocol by default inside the Firefox browser for a small number of US users starting later this month.\n\nThe browser maker has been testing DoH support in Firefox since 2017. A recent experiment found no issues, and Mozilla plans to enable DoH in the main Firefox release for a small percentage of users, and then enable it for a broader audience if no issues arise.\n\n\"If this goes well, we will let you know when we're ready for 100% deployment,\" said Selena Deckelmann, Senior Director of Firefox Engineering at Mozilla.\n\nWhat is DoH?\n\nDoH (IETF RFC8484) allows Firefox to send DNS requests as normal-looking HTTPS traffic to special DoH-compatible DNS servers (called DoH resolvers). Basically, it hides DNS requests inside the normal deluge of HTTPS data. [DoH doesn't encrypt DNS requests. That's a different protocol, namely DNS-over-TLS, aka DoT].\n\nBy default, Firefox ships with support for relaying encrypted DoH requests via Cloudflare's DoH resolver, but users can change it to any DoH resolver they want [see here].\n\nWhen DoH support is enabled in Firefox, the browser will ignore DNS settings set in the operating system, and use the browser-set DoH resolver.\n\nBy moving DNS server settings from the OS to the browser level, and by encrypting the DNS traffic, DoH effectively hides DNS traffic from internet service providers (ISPs), local parental control software, antivirus software, enterprise firewalls and traffic filters, and about any other third-party that tries to intercept and sniff a user's traffic.\n\nDoH controversies\n\nWhen Mozilla announced it was working for support DoH in Firefox, privacy advocates rejoiced, and for good reasons, as DoH would allow dissidents and other oppressed groups to bypass web traffic filters set in place in oppresive regimes.\n\nBut because of the issues listed above, DoH support has not been viewed as a welcomed technical solution in enterprise environments and by ISPs.\n\nISPs watch DNS traffic in order to filter traffic for bad sites, enforce legal-mandated site blocks, or to collect browsing history on users, to re-sell to advertisers.\n\nWith DoH, they can't peek into DNS traffic anymore.\n\nIn July, a UK ISP named Mozilla an \"internet villain\" for adding DoH support to Firefox. The ISP argued that they couldn't filter traffic for child abuse sites because DoH would allow users to bypass any filters it put in place.\n\nThe ISP later recanted on calling Mozilla an internet villain after a massive public backlash, and Mozilla announced it would not enable DoH support by default for Firefox users in the UK.\n\nCompanies that provide enterprise traffic filtering solutions have also criticized the protocol, which they said can act as a firewall bypassing mechanism.\n\nMalware authors have also found DoH to be an attractive protocol, and have started using it to malicious DNS traffic and successfully bypass enterprise-grade security systems.\n\nFirefox to respect enterprise filters and parental controls\n\nMozilla certainly hasn't heard the last of these discussions. Moving forward, the browser maker said it would try to avoid causing any problems.\n\nFor starters, Mozilla said that after it turns on DoH by default for US users, Firefox will contain a mechanism to detect the presence of any local parental control software or enterprise configurations.\n\nIf any are found, Firefox will automatically disable DoH, so the browser won't bypass parental controls or enterprise configurations and traffic filters that were intentionally set in place for users' safety.\n\nAdditionally, Mozilla is also working with ISPs to make sure users won't use DoH as a way to bypass legally-set blocklists.\n\nThe organization said it's been asking ISPs and providers of network-based parental control solutions to add a \"canary domain\" to their blocklists. When Firefox will detect that this canary domain is blocked, it will disable DoH to prevent the feature to be used as a filter-bypassing solution.", "description": "DoH tests haven't found any issues. Mozilla to start rolling out DoH to a small set of US users, then gradually roll it out for to more users.", "authors": ["Catalin Cimpanu"], "top_image": "https://zdnet3.cbsistatic.com/hub/i/r/2019/04/05/92e71ec8-ad58-4bd5-b6dc-a50c3d9951d5/thumbnail/770x578/62810e04c43a8f688a9498ac173233ea/firefoxlogo.png", "published_at": "2019-09-07"}