{"pub": "zdnet", "url": "https://www.zdnet.com/article/microsoft-packet-loss-involving-apple-push-notification-service-was-latest-mfa-outage-culprit", "downloaded_at": "2019-10-25 00:40:39.130013+00:00", "title": "Microsoft: Packet loss involving Apple Push Notification Service was latest MFA outage culprit", "language": "en", "text": "Microsoft has posted its root-cause analysis of its latest Multifactor Authentication (MFA) melt-down, which happened last week. \"Severe packet loss\" between a network route between Microsoft and the Apple Push Notification Service (APNS) was to blame for the October 18 issues experienced by a number of Azure and Office 365 users in North America.\n\n\n\nThe three-hour issue which affected users attempting to sign in using MFA affected .51 percent of users in North American tenants using the service, according to Microsoft. The problem hit during morning peak traffic in North America -- just before 10 a.m. ET last Friday. Earlier this week, Microsoft's preliminary analysis said the severe packet loss involved a connection between Microsoft and an unnamed third-party service.\n\n\n\nMicrosoft's write-up of what went wrong explains how its engineers prepared a hotfix to bypass the impacted external service altogether and restore MFA functionality. During that time, the external network recovered and packet loss reduced, so the hotfix could be rolled back.\n\n\n\n\"We sincerely apologize for the impact to affected customers,\" Microsoft officials said in the analysis. Microsoft is taking steps to improve Azure and its processes to ensure such incidents won't happen in the future, they said.\n\n\n\nAmong the \"next steps\" the Azure team is taking, according to the write-up:\n\nIn-progress fine-grained fault domain isolation work has been accelerated. This work builds on the previous fault domain isolation work which limited this incident to North American tenants. This includes:\n\n- Additional physical partitioning within each Azure region.\n\n- Logical partitioning between authentication types.\n\n- Improved partitioning between service tiers.\n\nAdditional hardening and redundancy within each granular fault domain to make them more resilient to network connectivity loss. This includes:\n\n\n\n- Improved resilience to request build-up.\n\n- Optimizing network traffic to decrease load on network links.\n\n- Improved instructions to users for self-service in case notifications are not delivered.\n\n- Service restructuring to decrease service impact of network packet loss.\n\n\n\nEnhanced monitoring for networking latency and various resource usage thresholds. This includes:\n\n\n\n- Multi-region and multi-cloud targeted monitoring for the specific type of packet loss encountered.\n\n- Improved monitors for additional types of resource usage.\n\nLast year, Microsoft's Azure and Office 365 services suffered two, back-to-back MFA outages. In its root-cause analysis, Microsoft detailed three independent causes, along with monitoring gaps that resulted in Azure, Office 365, Dynamics and other Microsoft users not being able to authenticate for much of the day during the first of the worldwide outages. Microsoft officials described a multi-pronged plan to try to keep this kind of outage from happening, but said some of the required steps might not be completed until January 2019.", "description": "Microsoft has shared its post-mortem on the October 18 MFA issue which affected a number of North American Azure and Office 365 users.", "authors": ["Mary Jo Foley"], "top_image": "https://zdnet3.cbsistatic.com/hub/i/r/2019/10/24/5a3859ba-fdbf-4c5d-ad50-f4a66ced76cf/thumbnail/770x578/4e7b47c4611bbd19a8f2df977c6a60f8/mfaoutagerootcause.jpg", "published_at": "2019-10-24"}