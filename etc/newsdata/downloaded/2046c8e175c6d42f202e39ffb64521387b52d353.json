{"pub": "arstechnica", "url": "https://arstechnica.com/information-technology/2019/10/chemists-discover-cross-platform-python-scripts-not-so-cross-platform", "downloaded_at": "2019-10-15 14:58:54.246440+00:00", "title": "Researchers find bug in Python script may have affected hundreds of studies", "language": "en", "text": "In a paper published October 8, researchers at the University of Hawaii found that a programming error in a set of Python scripts commonly used for computational analysis of chemistry data returned varying results based on which operating system they were run on\u2014throwing doubt on the results of more than 150 published chemistry studies. While trying to analyze results from an experiment involving cyanobacteria, the researchers\u2014Jayanti Bhandari Neupane, Ram Neupane, Yuheng Luo, Wesley Yoshida, Rui Sun, and Philip Williams\u2014discovered significant variations in results run against the same nuclear magnetic resonance spectroscopy (NMR) data.\n\nThe scripts, called the \"Willoughby-Hoye\" scripts after their authors\u2014Patrick Willoughby and Thomas Hoye of the University of Minnesota\u2014were found to return correct results on macOS Mavericks and Windows 10. But on macOS Mojave and Ubuntu, the results were off by nearly a full percent.\n\nThe reason for the variation was the scripts' use of Python's glob module, which searches for files matching a specific name pattern\u2014the scripts generated a list of input files to read based on the glob results. But the module depends on the operating system for the order in which the files are returned. And the results of the scripts' calculations are affected by the order in which the files are processed. Rui Sun and Phillip Williams wrote corrected sorting code that fixes the problem, ensuring consistent results.\n\nPatrick Willoughby, now an assistant professor of chemistry at Ripon College, acknowledged the research's findings and the correction made to the scripts by the University of Hawaii team in a post to Twitter:\n\nReally great find by Rui and Prof. Williams. When I wrote the scripts 6 years ago, the OS was able to handle the sorting. Rui and Williams added the necessary sort code and added a function to ensure the calcs were properly aligned. Kudos! \u2014 Patrick Willoughby (@pat_willoughby) October 8, 2019\n\nWilliams told The Register that he believes between 150 and 160 research projects may have been affected by the bug. While the variations the University of Hawaii team found in data didn't impact the results of their work, it may have had more significant impact on other studies. Williams said he hopes the paper will get scientists to pay more attention to the computational side of experiments in the future.", "description": "\"Willoughby-Hoye\" scripts used OS call that caused incorrect measurements on Linux, Mojave", "authors": ["Sean Gallagher"], "top_image": "https://cdn.arstechnica.net/wp-content/uploads/2019/10/GettyImages-977644614-760x380.jpg", "published_at": "2019-10-15"}