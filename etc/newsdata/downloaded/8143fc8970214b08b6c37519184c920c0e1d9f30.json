{"pub": "zdnet", "url": "https://www.zdnet.com/article/how-teslas-flash-storage-fail-may-lead-to-expensive-repair-bills", "downloaded_at": "2019-10-19 10:54:06.751462+00:00", "title": "How Tesla's flash storage fail may lead to expensive repair bills", "language": "en", "text": "Read this Tesla Model S: The finest coal-powered car money can buy Web cartoonist Matthew Inman loves his Tesla. But like many proud EV owners and proponents, does he even realize his \"Magical Space Car\" runs on fossil fuels? Read More\n\nFor a company that prides itself on its computer expertise, Tesla's rookie mistake on flash storage is hard to fathom. But not impossible. Here's how they screwed up.\n\nEarly Tesla cars are running into a serious problem: the big control screens are beginning to freeze up and go black. Worse, that is keeping affected cars from charging. Short of replacing an $1800 printed circuit board, there's no easy fix.\n\nStorage stops the car from charging?\n\nAccording to the folks at InsideEVs, the problem begins with the massive amount of system logging enabled on the car's Media Control Unit (MCU), a single-board computer running Linux. Soldered on the MCU is an 8GB eMMC (enhanced Multi-Media Controller) flash storage chip.\n\nThe eMMC is a small solid-state drive (SSD) with an on-board controller. The eMMC has a standardized interface that makes it easy for board designers to add storage without worrying about all the details required to keep flash working well.\n\nThe major worry with flash is that flash wears out. Write a bit enough times and it will stop accepting new data. The controller works to ensure that bits are written to in a round-robin fashion, a technique known as wear leveling.\n\nWhat happened?\n\nSomeone at Tesla enabled logging on the MCU for no good reason. The constant writing of logs to the eMMC, data that is rarely needed, means the eMMC eventually wears out, and firmware that the eMMC stores is no longer readable, so the MCU fails.\n\nBummer.\n\nThe logging isn't the only problem. The firmware stored on the eMMC has grown over the years from about 30MB to 1GB. The logging has less capacity available, and the firmware updates require a writable eMMC.\n\nThanks to wear leveling and other techniques, flash wear out isn't a problem today unless you do something stupid. Like logging unneeded data year after year.\n\nThe fix\n\nThird parties can replace the chip on the MCU, which is a fiddly process, but cheaper than replacing the entire board. Which is what Tesla does.\n\nThe third parties write the syslog data to a RAM disk, which won't wear out, but is volatile. But why is Tesla writing the data at all?\n\nThe Storage Bits take\n\nNon-volatile RAM will eventually solve this problem, but it isn't quite ready for prime time.\n\nI suspect the real problem here is that the software guys didn't think about the impact of logging on the onboard storage, since that's hardware and who cares? It wouldn't be the first time.\n\nSince this is clearly a manufacturer problem, one that customers have no control over, Tesla should handle all repairs under warranty. It's the right thing to do.\n\nCourteous comments welcome, of course.", "description": "For a company that prides itself on its computer expertise, Tesla's rookie mistake on flash storage is hard to fathom. But not impossible. Here's how it screwed up.", "authors": ["Robin Harris"], "top_image": "https://zdnet1.cbsistatic.com/hub/i/r/2018/06/12/a813277d-819b-4aa6-889f-bace3ff2ba21/thumbnail/770x578/864393374195eb7f165ee94b010b3ed0/tesla-gettyimages-494411542.jpg", "published_at": "2019-10-18"}